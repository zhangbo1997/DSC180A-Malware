import glob
import numpy as np
import pandas as pd
import networkx as nx
import os
import re
from itertools import combinations_with_replacement
from itertools import combinations
from datetime import datetime
from src.etl import get_data
from src.HinDroid import HinDroid
from src.baseline import baseline
import json
import sys


def main(targets):
    if 'test-project' in targets:
        cfg = json.load(open("config/test-params.json"))
        get_data(**cfg)
        num_benign = cfg["num_to_sample"]
        HinDroid(0, num_benign, True)
        
    if 'data' in targets:
        cfg = json.load(open('config/data-params.json'))
        get_data(**cfg)
    if 'process' in targets:
        cfg = json.load(open('config/data-params.json'))
        num_benign = cfg["num_to_sample"]
        baseline(num_benign, num_benign)
    if 'data-test' in targets:
        cfg = json.load(open('config/test-params.json'))
        get_data(**cfg)
        num_benign = cfg["num_to_sample"]
    return

if __name__ == '__main__':
    targets = sys.argv[1:]
    main(targets)